{"version":3,"sources":["components/Calculadora/types/index.ts","components/Calculadora/utils/definirEstiloBotao.ts","components/Calculadora/constants/botoes.ts","components/Calculadora/components/Botao/StyledComponents/index.tsx","components/Calculadora/components/Botao/Botao.tsx","components/Calculadora/components/Visor/StyledComponents/index.tsx","components/Calculadora/components/Visor/Visor.tsx","components/Calculadora/StyledComponents/index.tsx","components/Calculadora/utils/evaluate.ts","components/Calculadora/utils/expressaoInfixValida.ts","components/Calculadora/utils/infixToPrefix.ts","components/Calculadora/utils/operadores.ts","components/Calculadora/utils/tokenizer.ts","components/Calculadora/helpers/calculate.ts","components/Calculadora/constants/teclas.ts","components/Calculadora/Calculadora.tsx","components/Footer/StyledComponents/index.tsx","components/Footer/Footer.tsx","pages/Index/Index.tsx","index.tsx"],"names":["CalculadoraAcoes","definirEstiloBotao","label","isNaN","parseInt","toString","background","color","simbolos","apagarUltimoItem","limparVisor","dividir","multiplicar","subtrair","calcular","somar","botoes","map","simbolo","estilo","BotaoContainer","styled","button","props","Botao","onClick","VisorContainer","div","ErroContainer","Visor","erro","expressao","resultado","CalculadoraContainer","BotoesContainer","BotaoEscondidoParaAdicionarOFocoNaCalculadora","evaluate","tokens","operadores","head","shift","undefined","Error","firstElement","op","args","push","expressaoInfixValida","slice","expressaoArr","split","abreParenteses","fechaParenteses","forEach","item","i","length","infixToPrefix","expression","isNumericOrPoint","str","parseFloat","formattedExpression","operatorQueue","numbersQueue","closingParenthesis","element","j","nextElement","trim","repeat","n","reduce","a","b","tokenizer","input","splittedInput","endings","ending","calculate","replaceAll","teclas","join","replace","Calculadora","useState","setExpressao","setResultado","setErro","calculadora","useRef","useEffect","current","querySelector","focus","exibeErro","mensagem","setTimeout","executarAcao","botaoClicado","res","error","handleOnClick","event","currentTarget","innerText","blur","id","onKeyDown","preventDefault","stopPropagation","tecla","key","includes","ref","botao","FooterContainer","footer","Footer","href","target","rel","Index","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf6ec85a.chunk.js","sourcesContent":["export interface ListaBotoes {\n  label: string | number;\n  background: string;\n  color: string;\n}\n\nexport enum CalculadoraAcoes {\n  limparVisor = 'C',\n  apagarUltimoItem = '⌫',\n  calcular = '=',\n  multiplicar = '×',\n  dividir = '÷',\n  somar = '+',\n  subtrair = '-',\n}\n","const definirEstiloBotao = (label: string | number) => {\n  if (!isNaN(parseInt(label.toString())))\n    return { background: '#0a0a0a', color: '#808080' };\n\n  if (label === '=')\n    return { background: '#d10028', color: '#fff' };\n\n  if (label === 'C')\n    return { background: '#ea4900', color: '#fff' };\n\n  return { background: '#d3d3d3', color: '#0a0a0a' };\n}\n\nexport default definirEstiloBotao;\n","import { CalculadoraAcoes, ListaBotoes } from '../types';\nimport definirEstiloBotao from '../utils/definirEstiloBotao';\n\nexport const simbolos = [\n  '(',\n  ')',\n  CalculadoraAcoes.apagarUltimoItem,\n  CalculadoraAcoes.limparVisor,\n  7,\n  8,\n  9,\n  CalculadoraAcoes.dividir,\n  4,\n  5,\n  6,\n  CalculadoraAcoes.multiplicar,\n  1,\n  2,\n  3,\n  CalculadoraAcoes.subtrair,\n  0,\n  '.',\n  CalculadoraAcoes.calcular,\n  CalculadoraAcoes.somar,\n];\n\nconst botoes: ListaBotoes[] = simbolos.map((simbolo) => {\n  const estilo = definirEstiloBotao(simbolo);\n  return {\n    label: simbolo,\n    background: estilo.background,\n    color: estilo.color,\n  };\n});\n\nexport default botoes;\n","import styled from 'styled-components';\n\ninterface BotaoContainerProps {\n  background: string;\n  color: string;\n}\n\nexport const BotaoContainer = styled.button<BotaoContainerProps>`\n  background: ${(props) => props.background};\n  color: ${(props) => props.color};\n  width: 50px;\n  height: 50px;\n  border: 0;\n  border-radius: 8px;\n  font-size: 25px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  transition: opacity 0.2s;\n\n  &:hover {\n    opacity: 0.7;\n  }\n`;\n","import React, { FC } from 'react';\nimport { BotaoContainer } from './StyledComponents';\nimport { IProps } from './types';\n\nconst Botao: FC<IProps> = ({\n  onClick,\n  label,\n  background,\n  color,\n}) => {\n  return (\n    <BotaoContainer\n      onClick={onClick}\n      background={background}\n      color={color}\n    >\n      <span>\n        {label}\n      </span>\n    </BotaoContainer>\n  );\n}\n\nexport default Botao;\n","import styled from 'styled-components';\n\nexport const VisorContainer = styled.div`\n  width: 260px;\n  padding: 16px;\n  background: #000;\n  text-align: right;\n  box-sizing: border-box;\n  min-height: 87px;\n  \n  > div {\n    color: #808080;\n    font-size: 16px;\n    word-break: break-all;\n    height: 19px;\n    position: relative;\n  }\n\n  div:last-child {\n    color: #fff;\n    font-size: 30px;\n  }\n`;\n\nexport const ErroContainer = styled.div`\n  color: #991B1B !important;\n  background: #FCA5A5;\n  border-radius: 4px;\n  font-size: 12px !important;\n  display: inline;\n  padding: 6px;\n  position: absolute;\n  left: 0;\n  transition: all 0.2;\n  font-weight: bold;\n`;\n","import React, { FC } from 'react';\nimport { ErroContainer, VisorContainer } from './StyledComponents';\nimport { IProps } from './types';\n\nconst Visor: FC<IProps> = ({ erro, expressao, resultado }) => {\n  return (\n    <VisorContainer>\n      <div>\n        {erro && <ErroContainer>{erro}</ErroContainer>}\n        {expressao}\n      </div>\n      <div>\n        {resultado}\n      </div>\n    </VisorContainer>\n  );\n}\n\nexport default Visor;\n","import styled from 'styled-components';\n\nexport const CalculadoraContainer = styled.div`\n  background: #1e1e1e;\n  margin: auto;\n  width: 260px;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.55) 0px 20px 68px;\n`;\n\nexport const BotoesContainer = styled.div`\n  padding: 15px;\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 8px;\n`;\n\nexport const BotaoEscondidoParaAdicionarOFocoNaCalculadora = styled.button`\n  border: 0 !important;\n  clip: rect(1px, 1px, 1px, 1px) !important;\n  -webkit-clip-path: inset(50%) !important;\n  clip-path: inset(50%) !important;\n  height: 1px !important;\n  margin: -1px !important;\n  overflow: hidden !important;\n  padding: 0 !important;\n  position: absolute !important;\n  width: 1px !important;\n  white-space: nowrap !important;\n`;\n","const evaluate = (tokens: (string | number)[], operadores: {}): (number | string) => {\n  const head = tokens.shift();\n\n  if (head === undefined)\n    throw new Error('Token inválido');\n\n  if (head === '(') {\n    const firstElement = tokens.shift();\n    \n    if (firstElement === undefined)\n      throw new Error('Operador inválido');\n\n    // @ts-ignore\n    const op = operadores[firstElement];\n\n    if (op === undefined)\n      throw new Error('Operador não encontrado');\n\n    const args = [];\n\n    while (tokens[0] !== ')') {\n      args.push(evaluate(tokens, operadores));\n    }\n\n    tokens.shift(); // Remove o ')'\n    return op(args);\n\n  } else {\n    return head;\n  }\n}\n\nexport default evaluate;\n","const expressaoInfixValida = (expressao: string): boolean => {\n  // Valida se expressão não termina com operador\n  if (expressao.slice(-1) !== ')' && isNaN(parseInt(expressao.slice(-1))))\n    return false;\n\n  // Valida se todos os parênteses abertos são fechados posteriormente\n    const expressaoArr = expressao.split('');\n  let abreParenteses = 0;\n  let fechaParenteses = 0;\n  expressaoArr.forEach((item) => {\n    if (item === '(')\n      abreParenteses++;\n    else if (item === ')')\n      fechaParenteses++;\n  });\n\n  if (abreParenteses !== fechaParenteses)\n    return false;\n\n  // Valida se expressão termina com número\n  for (let i = expressao.length - 1; i > -1; i--) {\n    if (expressao[i] === ')')\n      continue;\n\n    if(isNaN(parseInt(expressao[i]))) {\n      return false;\n    }\n    break;\n  }\n\n  return true;\n}\n\nexport default expressaoInfixValida;\n","const infixToPrefix = (expression: string): string => {\n  const isNumericOrPoint = (str: string) => {\n    return !isNaN(parseFloat(str)) || str === '.';\n  }\n  let formattedExpression = '';\n  let operatorQueue = '';\n  let numbersQueue = '';\n  let closingParenthesis = 0;\n\n  for (let i = 0; i < expression.length; i++) {\n    const element = expression[i];\n\n    if (element === '(') {\n      closingParenthesis++;\n      formattedExpression += ` (+ 0`;\n\n      if (numbersQueue.length > 0 && operatorQueue.length === 0) {\n        formattedExpression += ` (* ${numbersQueue}`;\n        numbersQueue = '';\n        closingParenthesis++;\n      }\n\n      continue;\n    }\n\n    if (element === ')') {\n      closingParenthesis--;\n      formattedExpression += element;\n      continue;\n    }\n\n    if (closingParenthesis < 0)\n      throw new Error('Expressão inválida. Verifique os parênteses.');\n\n    if (isNumericOrPoint(element)) {\n      numbersQueue += element;\n      continue;\n    } else {\n      numbersQueue += ' ';\n      operatorQueue += element;\n    }\n\n    let j = i;\n    let nextElement = expression[i + 1];\n\n    while (!isNumericOrPoint(nextElement) && nextElement !== '(') {\n      operatorQueue += nextElement;\n      j++;\n      nextElement = expression[j + 1];\n    }\n\n    while (isNumericOrPoint(nextElement)) {\n      numbersQueue += nextElement;\n      j++;\n      nextElement = expression[j + 1];\n    }\n\n    i = j;\n\n    formattedExpression += ` (${operatorQueue} ${numbersQueue.trim()}`;\n    numbersQueue = '';\n    operatorQueue = '';\n    closingParenthesis++;\n  }\n\n  return `${formattedExpression}${')'.repeat(closingParenthesis)}`.trim();\n}\n\nexport default infixToPrefix;\n","const operadores = {\n  '+': (n: number[]) => n.reduce((a, b) => a + b),\n  '-': (n: number[]) => n.reduce((a, b) => a - b),\n  '*': (n: number[]) => n.reduce((a, b) => a * b),\n  '/': (n: number[]) => n.reduce((a, b) => a / b),\n}\n\nexport default operadores;\n","const tokenizer = (input: string) => {\n  const splittedInput = input.split(' ');\n  const tokens: (string | number)[] = [];\n\n  splittedInput.forEach(item => {\n    if (item[0] === '(') {\n      tokens.push('(')\n      tokens.push(item.slice(1))\n    } else if (item.slice(-1) === ')') {\n      let i = item.length - 1\n      const endings = []\n\n      while (i) {\n        if (item[i] === ')')\n          endings.push(')')\n        i--\n      }\n      tokens.push(parseFloat(item.slice(0, -1)))\n      endings.map(ending => tokens.push(ending))\n    } else {\n      tokens.push(parseFloat(item))\n    }\n  });\n\n  return tokens;\n}\n\nexport default tokenizer;\n","import { CalculadoraAcoes } from '../types';\nimport evaluate from '../utils/evaluate';\nimport expressaoInfixValida from '../utils/expressaoInfixValida';\nimport infixToPrefix from '../utils/infixToPrefix';\nimport operadores from '../utils/operadores';\nimport tokenizer from '../utils/tokenizer';\n\nconst calculate = (expression: string): (number | string) => {\n  if (!expressaoInfixValida(expression))\n    throw new Error('Expressão inválida');\n\n  expression = expression\n    .replaceAll(CalculadoraAcoes.dividir, '/')\n    .replaceAll(CalculadoraAcoes.multiplicar, '*');\n\n  const resultado = evaluate(\n    tokenizer(\n      infixToPrefix(expression),\n    ),\n    operadores\n  );\n\n  if (isNaN(+resultado))\n    throw new Error('Verifique sua expressão');\n\n  return resultado;\n}\n\nexport default calculate;\n","import { CalculadoraAcoes } from '../types';\nimport { simbolos } from './botoes';\n\nconst teclas = simbolos\n  .join('')\n  .replace('Backspace', CalculadoraAcoes.apagarUltimoItem)\n  .replace('Delete', CalculadoraAcoes.limparVisor)\n  .split('');\n\nexport default teclas;\n","import React, { useEffect, useRef, useState } from 'react';\nimport botoes from './constants/botoes';\nimport Botao from './components/Botao/Botao';\nimport Visor from './components/Visor/Visor';\nimport { CalculadoraAcoes } from './types/index';\nimport { BotaoEscondidoParaAdicionarOFocoNaCalculadora, BotoesContainer, CalculadoraContainer } from './StyledComponents';\nimport calculate from './helpers/calculate';\nimport teclas from './constants/teclas';\n\nconst Calculadora = () => {\n  const [expressao, setExpressao] = useState('');\n  const [resultado, setResultado] = useState('');\n  const [erro, setErro] = useState('');\n  const calculadora = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    calculadora\n      .current\n      ?.querySelector('button')\n      ?.focus();\n  }, []);\n\n  const calcular = (expressao: string) => {\n    try {\n      const res = calculate(expressao);\n      setResultado(res.toString());\n      setExpressao(expressao);\n    } catch (error) {\n      exibeErro(error.toString());\n    }\n  }\n\n  const exibeErro = (mensagem: string) => {\n    setErro(mensagem.replace('Error: ', ''));\n\n    setTimeout(() => {\n      setErro('');\n    }, 3000);\n  }\n\n  const limparVisor = () => {\n    setExpressao('');\n    setResultado('');\n  }\n\n  const apagarUltimoItem = () => {\n    setResultado(resultado.slice(0, -1));\n  }\n\n  const executarAcao = (botaoClicado: string) => {\n    if (botaoClicado === CalculadoraAcoes.calcular)\n      return calcular(resultado);\n\n    if (botaoClicado === CalculadoraAcoes.limparVisor)\n      return limparVisor();\n\n    if (botaoClicado === CalculadoraAcoes.apagarUltimoItem)\n      return apagarUltimoItem();\n\n    setResultado(`${resultado}${botaoClicado}`);\n  }\n\n  const handleOnClickAndSetFocus = () => {\n    calculadora\n      .current\n      ?.querySelector('button')\n      ?.focus();\n  }\n\n  const handleOnClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const botaoClicado = event.currentTarget.innerText;\n    executarAcao(botaoClicado);\n    event.currentTarget.blur();\n  }\n\n  const handleOnKeyDown = (event: React.KeyboardEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n\n    let tecla = event.key;\n\n    if (tecla === 'Backspace')\n      tecla = CalculadoraAcoes.apagarUltimoItem;\n    else if (tecla === 'Delete' || tecla === 'ESC')\n      tecla = CalculadoraAcoes.limparVisor;\n    else if (tecla === 'Enter')\n      tecla = CalculadoraAcoes.calcular;\n    else if (tecla === '/')\n      tecla = CalculadoraAcoes.dividir;\n    else if (tecla === '*')\n      tecla = CalculadoraAcoes.multiplicar;\n    else if (tecla === 'c')\n      tecla = CalculadoraAcoes.limparVisor;\n    else if (tecla === ',')\n      tecla = '.';\n\n    if (teclas.includes(tecla))\n      executarAcao(tecla);\n  }\n\n  return (\n    <CalculadoraContainer\n      id=\"calculadora\"\n      onKeyDown={handleOnKeyDown}\n      onClick={handleOnClickAndSetFocus}\n      ref={calculadora}\n    >\n      <Visor\n        erro={erro}\n        expressao={expressao}\n        resultado={resultado}\n      />\n      <BotoesContainer>\n        <BotaoEscondidoParaAdicionarOFocoNaCalculadora />\n        {\n          botoes.map(botao => (\n            <Botao\n              onClick={handleOnClick}\n              label={botao.label.toString()}\n              background={botao.background}\n              color={botao.color}\n              key={botao.label}\n            />\n          ))\n        }\n      </BotoesContainer>\n    </CalculadoraContainer>\n  );\n}\n\nexport default Calculadora;\n","import styled from 'styled-components';\n\nexport const FooterContainer = styled.footer`\n  margin: 0 auto;\n  text-align: center;\n  align-self: flex-end;\n  padding: 16px;\n`;\n","import React from 'react';\nimport { FooterContainer } from './StyledComponents';\n\nconst Footer = () => {\n  return (\n    <FooterContainer>\n      <p>\n        Made with ❤️ by{' '}\n        <a\n          href=\"https://douglasmoura.dev\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Douglas Moura\n        </a>\n      </p>\n\n      <p>\n        See on <a href=\"https://github.com/DouglasdeMoura/calculadora-react\">GitHub</a>\n      </p>\n    </FooterContainer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport Calculadora from '../../components/Calculadora/Calculadora';\nimport Footer from '../../components/Footer/Footer';\n\nconst Index = () => {\n  return (\n    <>\n      <Calculadora />\n      <Footer />\n    </>\n  );\n}\n\nexport default Index;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/styles/global.css';\nimport Index from './pages/Index/Index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Index />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}